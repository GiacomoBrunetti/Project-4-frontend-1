<h1>Events Index</h1>
<div>
  <div class="searchBoxIndex">
    <input type="text" class="search" ng-model="eventsIndex.q" placeholder="Search...">
  </div>
  <ul>
    <!-- ng-repeat="coffee in coffeeIndex.all | filter: { name: coffeeIndex.q }" -->
    <li ng-repeat="event in eventsIndex.filtered track by $index">
    <div class="EventIndexDiv">
      <div class="EventInnerDiv">
        <a ui-sref="eventsShow({ id: event.id })"><p><strong>{{ event.name }}</strong></p></a>
        <a ui-sref="eventsShow({ id: event.id })"><img src="{{ event.image_src }}" alt="{{ event.name }}"></a>
        <p>{{ event.location }}</p>
        <p>{{ event.date | date: 'd MMM yyyy' }}</p>
        <p><span class="ticksleft">{{ event.tickets_left }}</span> tickets left</p>
        <p>Host: <a ui-sref="usersShow({ id: event.user.id })">{{ event.user.username }}</a></p>
      </div>
    </div>
    </li>
  </ul>
</div>

<h1>Events Map</h1>
<div>
  <google-map events="eventsIndex.filtered" ng-if="eventsIndex.all.$resolved"></google-map>
</div>
